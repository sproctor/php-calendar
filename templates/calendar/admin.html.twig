{% extends "base.html.twig" %}

{% block body %}
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="calendar-tab" data-bs-toggle="tab" href="#calendar" role="tab" aria-controls="calendar">
                {{ "calendar-settings-label"|trans }}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="calendar-users-tab" data-bs-toggle="tab" href="#calendar-users" role="tab" aria-controls="calendar-users">
                {{ "calendar-users-label"|trans }}
            </a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade show active" id="calendar" role="tabpanel" aria-labelledby="calendar-tab">
            <h3>{{ "calendar-settings-label"|trans }}</h3>
            {{ form(calendar_form) }}
        </div>

        <div class="tab-pane fade" id="calendar-users" role="tabpanel" aria-labelledby="calendar-users-tab">
            <h3>{{ "user-permissions-label"|trans }}</h3>
            {{ form_start(user_form) }}
            {% for user_field in user_form.children %}
                {% if user_field.vars.name != '_token' %}
                    <div class="form-group">
                        {{ form_label(user_field) }}
                        {% for perm in user_field.children %}
                            <div class="form-check form-check-inline">
                                {{ form_row(perm) }}
                            </div>
                        {% endfor %}
                        {{ form_errors(user_field) }}
                    </div>
                {% endif %}
            {% endfor %}
            <button type="submit" class="btn btn-primary">{{ "update-permissions-button"|trans }}</button>
            {{ form_end(user_form) }}
        </div>
    </div>
{% endblock %}